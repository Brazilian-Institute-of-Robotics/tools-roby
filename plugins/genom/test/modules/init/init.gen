module init_test {
    internal_data:	    INIT_STR;
    number:		    2001;
    email:                  "sylvain.joyeux@laas.fr";
    version:                "0.1";
}; 

/*------------------------------------------------------------------------
 *	                   Structures et SDI
 *------------------------------------------------------------------------*/

#include "initStruct.h"

typedef struct INIT_STR {
    int index;
    int update_period;
} INIT_STR;

/*------------------------------------------------------------------------
 *	                       Requetes
 *------------------------------------------------------------------------*/

request Init {
    type: init;
    input: value::update_period;
    exec_task: VoidTask;
    c_exec_func: InitPeriod;
    doc: "Initializes count";
    incompatible_with: Init;
};

/*  */

/*------------------------------------------------------------------------
 *	                        Posters
 *------------------------------------------------------------------------*/
poster Index {
    update: auto;
    data:   value::index, 
            update_period::update_period;
    exec_task: VoidTask;
};


/*------------------------------------------------------------------------
 *	                   Taches d'Execution
 *------------------------------------------------------------------------*/


/*  */
exec_task VoidTask {
    period:		    none;
    delay:		    0;
    priority:		    10000;
    stack_size:		    1000;
    c_init_func:	    initVoidTaskInit;
};

